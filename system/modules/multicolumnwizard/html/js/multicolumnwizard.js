var MultiColumnWizard={execute:function(c,d,a){var l=$(a);var g=l.getFirst().getNext();var k=$(c).getParent("tr");var n={maxCount:l.getProperty("rel").match(/\[[0-9]+\]/ig)[0].replace("[","").replace("]","").toInt()};if(window.Backend){Backend.getScrollOffset()}MultiColumnWizard[d](g,k,n);var m=g.getChildren();for(var f=0;f<m.length;f++){var h=m[f].getChildren();for(var e=0;e<h.length;e++){var b=h[e].getChildren();MultiColumnWizard.updateAttributes(b,f)}}},copy:function(b,e,a){var g=new Element("tr");var f=e.getChildren();for(var c=0;c<f.length;c++){var d=f[c].clone(true,true).injectInside(g);d.getFirst().value=f[c].getFirst().value}g.injectAfter(e);if(a.maxCount<=b.getChildren().length&&a.maxCount!=0){console.log(b.getChildren().length);b.getElements("img[src=system/themes/default/images/copy.gif]").setStyle("display","none")}},up:function(b,c,a){c.getPrevious()?c.injectBefore(c.getPrevious()):c.injectInside(b)},down:function(b,c,a){c.getNext()?c.injectAfter(c.getNext()):c.injectBefore(b.getFirst())},"delete":function(b,d,a){if(b.getChildren().length>1){d.destroy()}else{var e=d.getElements("input,select,textarea");for(var c=0;c<e.length;c++){if(e[c].get("type")=="checkbox"||e[c].get("type")=="radio"){e[c].checked=false}else{e[c].set("value","")}}}if(a.maxCount>b.getChildren().length){b.getElements("img[src=system/themes/default/images/copy.gif]").setStyle("display","inline")}},updateAttributes:function(a,b){a.each(function(d){if(d.name!=undefined&&d.name!=null&&d.name!=""){var c=d.name.substring(0,d.name.indexOf("["));d.name=d.name.replace(new RegExp(c+"[[0-9]+]","ig"),c+"["+b+"]")}$H(d.getProperties("for","id","onclick")).each(function(f,e){if(f!=undefined&&f!=null&&f!=""){d.setProperty(e,f.replace(/_row[0-9]+_/ig,"_row"+b+"_"))}});if(d.getChildren().length>0){MultiColumnWizard.updateAttributes(d.getChildren(),b)}})}};